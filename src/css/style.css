/* ==========================================================================
   Canvasly Clone — Overrides & IX2 Replacement Styles
   Canvasly's Webflow CSS handles layout + most hover transitions.
   This file adds: Lenis, menu toggle, and IX2-dependent interactions
   that don't work without the Webflow runtime.
   ========================================================================== */

/* Lenis smooth scroll */
html.lenis, html.lenis body { height: auto; }
.lenis.lenis-smooth { scroll-behavior: auto !important; }

/* ==========================================================================
   POINTER-EVENTS — .header is pointer-events:none in Webflow CSS.
   Re-enable for interactive children that IX2 would normally handle.
   ========================================================================== */
.menu-button {
  pointer-events: auto;
}

/* ==========================================================================
   MENU OVERLAY — GSAP animates height/opacity directly via gsap.set()
   Webflow CSS sets .menu { height: 0; overflow: hidden; }
   ========================================================================== */
.menu-button .button-text.close { display: none; }
.menu-button.is-open .button-text.open { display: none; }
.menu-button.is-open .button-text.close { display: block; }

/* Menu link hover — italic + color shift */
.menu-link .menu-link-text {
  transition: color 0.3s cubic-bezier(.165,.84,.44,1), font-style 0s;
}
.menu-link:hover .menu-link-text {
  font-style: italic;
  color: var(--_theme---button--menu-text-hover, #6c7b61);
}
.menu-link:hover .menu-link-num {
  color: var(--_theme---button--menu-text-hover, #6c7b61);
}

/* ==========================================================================
   CTA CIRCLE — Fix dimensions + spinning + hover arrow swap
   Webflow CSS sets width:6.5em + aspect-ratio:1, but in the flex column
   container the height collapses. Force explicit height + prevent shrink.
   ========================================================================== */
.header-cta-circle {
  height: 6.5em;
  flex-shrink: 0;
}
.header-cta-circle-image {
  animation: spin 12s linear infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Arrow swap on hover */
.header-cta-circle-arrow-box.second {
  opacity: 0;
  transform: translateY(100%);
  transition: opacity 0.3s cubic-bezier(.165,.84,.44,1), transform 0.3s cubic-bezier(.165,.84,.44,1);
}
.header-cta-circle:hover .header-cta-circle-arrow-box.second {
  opacity: 1;
  transform: translateY(0);
}
.header-cta-circle-arrow-box.first {
  transition: opacity 0.3s cubic-bezier(.165,.84,.44,1), transform 0.3s cubic-bezier(.165,.84,.44,1);
}
.header-cta-circle:hover .header-cta-circle-arrow-box.first {
  opacity: 0;
  transform: translateY(-100%);
}

/* ==========================================================================
   SIDEBAR NAV — Text label reveal + icon tilt on hover (IX2 replacement)
   ========================================================================== */
.header-nav-icon-box {
  transition: transform 0.4s cubic-bezier(.5,1.5,.5,1);
}
.header-nav-link:hover .header-nav-icon-box {
  transform: translate(-1em, -0.325em) rotate(-8deg);
}
.header-nav-text-box {
  display: flex !important;
  opacity: 0;
  transform: translateX(-0.5em);
  transition: opacity 0.3s cubic-bezier(.165,.84,.44,1),
              transform 0.3s cubic-bezier(.5,1.5,.5,1);
  pointer-events: none;
}
.header-nav-link:hover .header-nav-text-box {
  opacity: 1;
  transform: translateX(0);
  pointer-events: auto;
}

/* ==========================================================================
   P-BUTTON — Arrow hover animation
   ========================================================================== */
.p-button-arrow-box.is-right {
  opacity: 0;
  transform: translateX(-100%);
  transition: opacity 0.4s cubic-bezier(.165,.84,.44,1), transform 0.4s cubic-bezier(.165,.84,.44,1);
}
.p-button:hover .p-button-arrow-box.is-right {
  opacity: 1;
  transform: translateX(0);
}
.p-button-arrow-box.is-left {
  transition: opacity 0.4s cubic-bezier(.165,.84,.44,1), transform 0.4s cubic-bezier(.165,.84,.44,1);
}
.p-button:hover .p-button-arrow-box.is-left {
  opacity: 0;
  transform: translateX(-100%);
}

/* ==========================================================================
   WORK CARDS — Image zoom + overlay on hover
   ========================================================================== */
.work-card .cover-image {
  transition: transform 0.6s cubic-bezier(.165,.84,.44,1);
}
.work-card:hover .cover-image {
  transform: scale(1.05);
}
.work-card .image-layer {
  opacity: 0;
  transition: opacity 0.4s cubic-bezier(.165,.84,.44,1);
}
.work-card:hover .image-layer {
  opacity: 1;
}
.work-card .work-card-text-frame {
  transition: transform 0.4s cubic-bezier(.165,.84,.44,1);
  transform: translateY(8px);
}
.work-card:hover .work-card-text-frame {
  transform: translateY(0);
}

/* ==========================================================================
   HEADER — Scroll hide/show
   ========================================================================== */
.header-content {
  transition: transform 0.5s cubic-bezier(.165,.84,.44,1);
}

/* ==========================================================================
   CIRCLE CAROUSEL — GSAP + Draggable handle rotation directly
   ========================================================================== */

/* ==========================================================================
   ABOUT BIG TEXT — Fading chars initial state
   ========================================================================== */
[gsap="fading-chars"] {
  visibility: hidden;
}
[gsap="fading-chars"].is-revealed {
  visibility: visible;
}

/* ==========================================================================
   SECTION HEADINGS — Overflow clip for skew reveal animation
   ========================================================================== */
.section-header-heading-box {
  overflow: hidden;
}

/* ==========================================================================
   CIRCLE CAROUSEL — Grab cursor
   ========================================================================== */
.circle-card-wrapper {
  cursor: grab;
}
.circle-card-wrapper.is-dragging {
  cursor: grabbing;
}

/* ==========================================================================
   VISIBILITY FIXES — Elements that IX2 would normally show
   Webflow CSS hides these with display:none or opacity:0.
   IX2 animates them in; without IX2 we override to show them.
   ========================================================================== */
/* Hero cards: force visible on desktop (IX2 would show them).
   On mobile/tablet, let Webflow responsive CSS hide specific cards. */
@media screen and (min-width: 768px) {
  .home-hero-card-item { display: flex !important; opacity: 1; }
  .home-hero-card-item.item-01,
  .home-hero-card-item.item-04,
  .home-hero-card-item.item-05 { display: flex !important; }
}
@media screen and (max-width: 767px) {
  .home-hero-card-item { opacity: 1; }
  .home-hero-card-item.item-02 { display: flex !important; }
  .home-hero-card-item.item-03 { display: flex !important; }
}
.circle-image-wrapper { opacity: 1; }
.work-cta-heading-loader { transform: scale(1); }
.nav-content-wrapper { display: flex !important; pointer-events: auto; }
.nav-company-box { display: flex !important; pointer-events: auto; }
@media screen and (max-width: 767px) {
  .nav-content-wrapper { display: none !important; }
  .nav-company-box { display: none !important; }
}
.about-image-item-box.item-01 { display: block !important; }
.service-card-rich { display: block !important; }

/* ==========================================================================
   SERVICE CARDS — Hover image frame tilt
   ========================================================================== */
.service-card-image-box-frame {
  transition: transform 0.5s cubic-bezier(.165,.84,.44,1);
}
.service-card-content:hover .service-card-image-box-frame {
  transform: rotate(0deg);
}

/* ==========================================================================
   FOOTER — Flashlight / torch cursor effect
   Webflow CSS hides these with display:none — IX2 would show them.
   We override to enable the radial-gradient mask flashlight.
   ========================================================================== */
.lights-masking.is-secondary {
  display: flex !important;
}
.lights-cursor-wrapper {
  display: flex !important;
}

/* ==========================================================================
   FOOTER — Dark theme
   JS ScrollTrigger transitions page-wrapper bg/color when footer enters
   viewport (IX2 replacement). Footer itself is transparent to inherit.
   Element-specific colors below ensure visibility on the dark bg.
   ========================================================================== */
.footer {
  background-color: transparent;
}
.footer .footer-social-link {
  background-color: rgba(242, 240, 233, 0.12);
  color: #f2f0e9;
}
.footer .footer-social-link:hover {
  color: #d4ff00;
}
.footer .nav-link-text {
  color: #f2f0e9;
}
.footer .nav-link:hover .nav-link-text {
  color: #d4ff00;
}
.footer .footer-signature-text {
  color: rgba(242, 240, 233, 0.5);
}
.footer .p-button {
  color: #f2f0e9;
}
